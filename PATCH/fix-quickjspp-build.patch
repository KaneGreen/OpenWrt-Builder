From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: KaneGreen <737445366KG@Gmail.com>
Date: Mon, 17 Sep 2001 00:00:00 +0000
Subject: [PATCH] fix quickjspp build

---
 feeds/packages/libs/quickjspp/Makefile   | 1 +
 feeds/packages/net/subconverter/Makefile | 4 +++-
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/feeds/packages/libs/quickjspp/Makefile b/feeds/packages/libs/quickjspp/Makefile
index 0d2897c..5583434 100644
--- a/feeds/packages/libs/quickjspp/Makefile
+++ b/feeds/packages/libs/quickjspp/Makefile
@@ -41,6 +41,7 @@ define Package/libquickjs/description
 endef

 CMAKE_OPTIONS+= \
+   -DCMAKE_REQUIRED_LIBRARIES=stdc++fs \
    -DBUILD_SHARED_LIBS=ON \
    -DBUILD_TESTING=OFF \
    -DCMAKE_EXE_LINKER_FLAGS="-latomic"
diff --git a/feeds/packages/net/subconverter/Makefile b/feeds/packages/net/subconverter/Makefile
index f1c16ff..061c4ce 100644
--- a/feeds/packages/net/subconverter/Makefile
+++ b/feeds/packages/net/subconverter/Makefile
@@ -39,7 +39,9 @@ CMAKE_OPTIONS+= -DCMAKE_EXE_LINKER_FLAGS="-latomic"

 TARGET_CXXFLAGS := $(filter-out -O%,$(TARGET_CXXFLAGS)) -O3
 TARGET_CXXFLAGS += -Wall -Wextra -ffunction-sections -fdata-sections -flto
-TARGET_LDFLAGS += -Wl,--gc-sections -flto
+TARGET_LDFLAGS += \
+   -lstdc++fs \
+   -Wl,--gc-sections -flto

 define Package/subconverter/install
    $(INSTALL_DIR) $(1)/usr/bin
